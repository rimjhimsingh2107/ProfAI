{"ast":null,"code":"var _jsxFileName = \"/Users/rimjhim/Documents/GitHub/ProfAI/frontend/src/App_podcast.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [isListening, setIsListening] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [transcript, setTranscript] = useState('');\n  const [conversation, setConversation] = useState([]);\n  const [audioLevel, setAudioLevel] = useState(0);\n  const recognitionRef = useRef(null);\n  const synthRef = useRef(window.speechSynthesis);\n  const audioContextRef = useRef(null);\n  const analyserRef = useRef(null);\n  const microphoneRef = useRef(null);\n\n  // Initialize speech recognition\n  useEffect(() => {\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      recognitionRef.current = new SpeechRecognition();\n      recognitionRef.current.continuous = true;\n      recognitionRef.current.interimResults = true;\n      recognitionRef.current.lang = 'en-US';\n      recognitionRef.current.onresult = event => {\n        let finalTranscript = '';\n        let interimTranscript = '';\n        for (let i = event.resultIndex; i < event.results.length; i++) {\n          if (event.results[i].isFinal) {\n            finalTranscript += event.results[i][0].transcript;\n          } else {\n            interimTranscript += event.results[i][0].transcript;\n          }\n        }\n        if (finalTranscript) {\n          setTranscript(finalTranscript);\n          handleVoiceInput(finalTranscript);\n          stopListening();\n        } else {\n          setTranscript(interimTranscript);\n        }\n      };\n      recognitionRef.current.onend = () => {\n        setIsListening(false);\n      };\n      recognitionRef.current.onerror = event => {\n        console.error('Speech recognition error:', event.error);\n        setIsListening(false);\n      };\n    }\n  }, []);\n\n  // Audio visualization\n  const startAudioVisualization = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();\n      analyserRef.current = audioContextRef.current.createAnalyser();\n      microphoneRef.current = audioContextRef.current.createMediaStreamSource(stream);\n      microphoneRef.current.connect(analyserRef.current);\n      analyserRef.current.fftSize = 256;\n      const bufferLength = analyserRef.current.frequencyBinCount;\n      const dataArray = new Uint8Array(bufferLength);\n      const updateAudioLevel = () => {\n        if (isListening && analyserRef.current) {\n          analyserRef.current.getByteFrequencyData(dataArray);\n          const average = dataArray.reduce((sum, value) => sum + value, 0) / bufferLength;\n          setAudioLevel(average / 255);\n          requestAnimationFrame(updateAudioLevel);\n        }\n      };\n      updateAudioLevel();\n    } catch (error) {\n      console.error('Error accessing microphone:', error);\n    }\n  };\n  const startListening = () => {\n    if (recognitionRef.current && !isListening && !isProcessing && !isSpeaking) {\n      setIsListening(true);\n      setTranscript('');\n      recognitionRef.current.start();\n      startAudioVisualization();\n    }\n  };\n  const stopListening = () => {\n    if (recognitionRef.current && isListening) {\n      setIsListening(false);\n      recognitionRef.current.stop();\n      if (audioContextRef.current) {\n        audioContextRef.current.close();\n      }\n    }\n  };\n  const handleVoiceInput = async text => {\n    if (!text.trim()) return;\n    setIsProcessing(true);\n\n    // Add user message to conversation\n    const userMessage = {\n      id: Date.now(),\n      role: 'user',\n      content: text,\n      timestamp: new Date()\n    };\n    setConversation(prev => [...prev, userMessage]);\n    try {\n      // Create conversational prompt for podcast-style response\n      const conversationalPrompt = `You are ProfAI, a friendly and enthusiastic AI educator speaking in a natural, conversational podcast-style format. \n\nGuidelines for your responses:\n- Speak naturally and conversationally, as if you're having a friendly chat\n- Use filler words occasionally (like \"well\", \"you know\", \"actually\") to sound more human\n- Vary your sentence structure and pace\n- Show genuine enthusiasm and curiosity about the topic\n- Ask follow-up questions to keep the conversation going\n- Use analogies and real-world examples that are relatable\n- Keep responses engaging and not too long (30-60 seconds when spoken)\n- Sound like you're genuinely excited to discuss AI and ML topics\n\nCurrent conversation context: This is a voice-first podcast-style learning session about AI and machine learning.`;\n      const response = await fetch('http://localhost:5001/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message: text,\n          learningProfile: {\n            preferredLearningStyle: 'conversational',\n            preferredExplanationDepth: 'intermediate',\n            preferredPace: 'medium'\n          },\n          conversationHistory: conversation.slice(-4),\n          systemPrompt: conversationalPrompt\n        })\n      });\n      const data = await response.json();\n      const assistantMessage = {\n        id: Date.now() + 1,\n        role: 'assistant',\n        content: data.response,\n        timestamp: new Date()\n      };\n      setConversation(prev => [...prev, assistantMessage]);\n\n      // Speak the response\n      speakText(data.response);\n    } catch (error) {\n      console.error('Error:', error);\n      const errorMessage = {\n        id: Date.now() + 1,\n        role: 'assistant',\n        content: 'Oh, I seem to have lost my train of thought there for a moment! Could you try asking that again?',\n        timestamp: new Date()\n      };\n      setConversation(prev => [...prev, errorMessage]);\n      speakText(errorMessage.content);\n    }\n    setIsProcessing(false);\n  };\n  const speakText = text => {\n    if (synthRef.current && text) {\n      // Cancel any ongoing speech\n      synthRef.current.cancel();\n      const utterance = new SpeechSynthesisUtterance(text);\n\n      // Configure voice for more natural, conversational tone\n      const voices = synthRef.current.getVoices();\n      const preferredVoice = voices.find(voice => voice.name.includes('Samantha') || voice.name.includes('Alex') || voice.name.includes('Natural') || voice.lang.startsWith('en'));\n      if (preferredVoice) {\n        utterance.voice = preferredVoice;\n      }\n      utterance.rate = 0.9; // Slightly slower for better comprehension\n      utterance.pitch = 1.1; // Slightly higher pitch for engagement\n      utterance.volume = 0.8;\n      utterance.onstart = () => setIsSpeaking(true);\n      utterance.onend = () => setIsSpeaking(false);\n      utterance.onerror = () => setIsSpeaking(false);\n      setIsSpeaking(true);\n      synthRef.current.speak(utterance);\n    }\n  };\n  const stopSpeaking = () => {\n    if (synthRef.current) {\n      synthRef.current.cancel();\n      setIsSpeaking(false);\n    }\n  };\n  const formatTime = date => {\n    return date.toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 text-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-6xl mb-4\",\n        children: \"\\uD83C\\uDF99\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-4xl font-bold mb-2 bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent\",\n        children: \"ProfAI Podcast\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xl text-white/80\",\n        children: \"Voice-first AI Learning Experience\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto px-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: isListening ? stopListening : startListening,\n            disabled: isProcessing || isSpeaking,\n            className: `w-32 h-32 rounded-full flex items-center justify-center text-4xl transition-all duration-300 ${isListening ? 'bg-red-500 hover:bg-red-600 animate-pulse' : isProcessing ? 'bg-yellow-500 animate-spin' : isSpeaking ? 'bg-blue-500 animate-pulse' : 'bg-gradient-to-br from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 hover:scale-105'} disabled:opacity-50 shadow-2xl`,\n            children: isProcessing ? 'ü§î' : isSpeaking ? 'üó£Ô∏è' : isListening ? 'üé§' : 'üéôÔ∏è'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), isListening && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 flex items-center justify-center\",\n            children: [...Array(3)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute w-32 h-32 rounded-full border-2 border-white/30 animate-ping\",\n              style: {\n                animationDelay: `${i * 0.5}s`,\n                transform: `scale(${1 + audioLevel * 2 + i * 0.3})`\n              }\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-8\",\n        children: [isListening && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-semibold text-green-400 mb-2\",\n            children: \"\\uD83C\\uDFA4 Listening...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this), transcript && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg text-white/80 italic\",\n            children: [\"\\\"\", transcript, \"\\\"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this), isProcessing && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-semibold text-yellow-400\",\n          children: \"\\uD83E\\uDD14 Thinking...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }, this), isSpeaking && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-semibold text-blue-400 mb-4\",\n            children: \"\\uD83D\\uDDE3\\uFE0F Speaking...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: stopSpeaking,\n            className: \"px-6 py-3 bg-red-500 hover:bg-red-600 rounded-full font-semibold transition-colors\",\n            children: \"Stop Speaking\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }, this), !isListening && !isProcessing && !isSpeaking && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xl text-white/80 mb-4\",\n            children: \"Ready to chat! Tap the microphone to start.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-white/60\",\n            children: \"Ask me anything about AI, machine learning, or technology!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), conversation.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glassmorphism rounded-2xl p-6 max-h-96 overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold mb-4 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mr-2\",\n            children: \"\\uD83D\\uDCAC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this), \"Conversation Log\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: conversation.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `max-w-xs lg:max-w-md px-4 py-3 rounded-2xl ${message.role === 'user' ? 'bg-gradient-to-br from-purple-500 to-pink-500' : 'bg-gradient-to-br from-blue-500 to-cyan-500'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-lg mr-2\",\n                  children: message.role === 'user' ? 'üë§' : 'ü§ñ'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold\",\n                  children: message.role === 'user' ? 'You' : 'ProfAI'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-auto text-xs opacity-70\",\n                  children: formatTime(message.timestamp)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm leading-relaxed\",\n                children: message.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 21\n              }, this), message.role === 'assistant' && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => speakText(message.content),\n                disabled: isSpeaking,\n                className: \"mt-2 text-xs bg-white/20 hover:bg-white/30 px-2 py-1 rounded transition-colors disabled:opacity-50\",\n                children: \"\\uD83D\\uDD0A Replay\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 19\n            }, this)\n          }, message.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 flex flex-wrap justify-center gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleVoiceInput(\"What is machine learning?\"),\n          disabled: isListening || isProcessing || isSpeaking,\n          className: \"px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full text-sm font-medium hover:from-purple-600 hover:to-pink-600 transition-all disabled:opacity-50\",\n          children: \"What is ML?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleVoiceInput(\"Explain neural networks simply\"),\n          disabled: isListening || isProcessing || isSpeaking,\n          className: \"px-4 py-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full text-sm font-medium hover:from-blue-600 hover:to-cyan-600 transition-all disabled:opacity-50\",\n          children: \"Neural Networks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleVoiceInput(\"What's the future of AI?\"),\n          disabled: isListening || isProcessing || isSpeaking,\n          className: \"px-4 py-2 bg-gradient-to-r from-green-500 to-teal-500 rounded-full text-sm font-medium hover:from-green-600 hover:to-teal-600 transition-all disabled:opacity-50\",\n          children: \"Future of AI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setConversation([]),\n          disabled: isListening || isProcessing || isSpeaking,\n          className: \"px-4 py-2 bg-gradient-to-r from-gray-500 to-gray-600 rounded-full text-sm font-medium hover:from-gray-600 hover:to-gray-700 transition-all disabled:opacity-50\",\n          children: \"Clear Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 229,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"E0Exb+JYIN2wCAqEE/UIMDjXhqs=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","App","_s","isListening","setIsListening","isProcessing","setIsProcessing","isSpeaking","setIsSpeaking","transcript","setTranscript","conversation","setConversation","audioLevel","setAudioLevel","recognitionRef","synthRef","window","speechSynthesis","audioContextRef","analyserRef","microphoneRef","SpeechRecognition","webkitSpeechRecognition","current","continuous","interimResults","lang","onresult","event","finalTranscript","interimTranscript","i","resultIndex","results","length","isFinal","handleVoiceInput","stopListening","onend","onerror","console","error","startAudioVisualization","stream","navigator","mediaDevices","getUserMedia","audio","AudioContext","webkitAudioContext","createAnalyser","createMediaStreamSource","connect","fftSize","bufferLength","frequencyBinCount","dataArray","Uint8Array","updateAudioLevel","getByteFrequencyData","average","reduce","sum","value","requestAnimationFrame","startListening","start","stop","close","text","trim","userMessage","id","Date","now","role","content","timestamp","prev","conversationalPrompt","response","fetch","method","headers","body","JSON","stringify","message","learningProfile","preferredLearningStyle","preferredExplanationDepth","preferredPace","conversationHistory","slice","systemPrompt","data","json","assistantMessage","speakText","errorMessage","cancel","utterance","SpeechSynthesisUtterance","voices","getVoices","preferredVoice","find","voice","name","includes","startsWith","rate","pitch","volume","onstart","speak","stopSpeaking","formatTime","date","toLocaleTimeString","hour","minute","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","Array","map","_","style","animationDelay","transform","_c","$RefreshReg$"],"sources":["/Users/rimjhim/Documents/GitHub/ProfAI/frontend/src/App_podcast.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport './index.css';\n\nfunction App() {\n  const [isListening, setIsListening] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [transcript, setTranscript] = useState('');\n  const [conversation, setConversation] = useState([]);\n  const [audioLevel, setAudioLevel] = useState(0);\n  \n  const recognitionRef = useRef(null);\n  const synthRef = useRef(window.speechSynthesis);\n  const audioContextRef = useRef(null);\n  const analyserRef = useRef(null);\n  const microphoneRef = useRef(null);\n\n  // Initialize speech recognition\n  useEffect(() => {\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      recognitionRef.current = new SpeechRecognition();\n      recognitionRef.current.continuous = true;\n      recognitionRef.current.interimResults = true;\n      recognitionRef.current.lang = 'en-US';\n\n      recognitionRef.current.onresult = (event) => {\n        let finalTranscript = '';\n        let interimTranscript = '';\n\n        for (let i = event.resultIndex; i < event.results.length; i++) {\n          if (event.results[i].isFinal) {\n            finalTranscript += event.results[i][0].transcript;\n          } else {\n            interimTranscript += event.results[i][0].transcript;\n          }\n        }\n\n        if (finalTranscript) {\n          setTranscript(finalTranscript);\n          handleVoiceInput(finalTranscript);\n          stopListening();\n        } else {\n          setTranscript(interimTranscript);\n        }\n      };\n\n      recognitionRef.current.onend = () => {\n        setIsListening(false);\n      };\n\n      recognitionRef.current.onerror = (event) => {\n        console.error('Speech recognition error:', event.error);\n        setIsListening(false);\n      };\n    }\n  }, []);\n\n  // Audio visualization\n  const startAudioVisualization = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();\n      analyserRef.current = audioContextRef.current.createAnalyser();\n      microphoneRef.current = audioContextRef.current.createMediaStreamSource(stream);\n      \n      microphoneRef.current.connect(analyserRef.current);\n      analyserRef.current.fftSize = 256;\n      \n      const bufferLength = analyserRef.current.frequencyBinCount;\n      const dataArray = new Uint8Array(bufferLength);\n      \n      const updateAudioLevel = () => {\n        if (isListening && analyserRef.current) {\n          analyserRef.current.getByteFrequencyData(dataArray);\n          const average = dataArray.reduce((sum, value) => sum + value, 0) / bufferLength;\n          setAudioLevel(average / 255);\n          requestAnimationFrame(updateAudioLevel);\n        }\n      };\n      \n      updateAudioLevel();\n    } catch (error) {\n      console.error('Error accessing microphone:', error);\n    }\n  };\n\n  const startListening = () => {\n    if (recognitionRef.current && !isListening && !isProcessing && !isSpeaking) {\n      setIsListening(true);\n      setTranscript('');\n      recognitionRef.current.start();\n      startAudioVisualization();\n    }\n  };\n\n  const stopListening = () => {\n    if (recognitionRef.current && isListening) {\n      setIsListening(false);\n      recognitionRef.current.stop();\n      if (audioContextRef.current) {\n        audioContextRef.current.close();\n      }\n    }\n  };\n\n  const handleVoiceInput = async (text) => {\n    if (!text.trim()) return;\n\n    setIsProcessing(true);\n    \n    // Add user message to conversation\n    const userMessage = {\n      id: Date.now(),\n      role: 'user',\n      content: text,\n      timestamp: new Date()\n    };\n    \n    setConversation(prev => [...prev, userMessage]);\n\n    try {\n      // Create conversational prompt for podcast-style response\n      const conversationalPrompt = `You are ProfAI, a friendly and enthusiastic AI educator speaking in a natural, conversational podcast-style format. \n\nGuidelines for your responses:\n- Speak naturally and conversationally, as if you're having a friendly chat\n- Use filler words occasionally (like \"well\", \"you know\", \"actually\") to sound more human\n- Vary your sentence structure and pace\n- Show genuine enthusiasm and curiosity about the topic\n- Ask follow-up questions to keep the conversation going\n- Use analogies and real-world examples that are relatable\n- Keep responses engaging and not too long (30-60 seconds when spoken)\n- Sound like you're genuinely excited to discuss AI and ML topics\n\nCurrent conversation context: This is a voice-first podcast-style learning session about AI and machine learning.`;\n\n      const response = await fetch('http://localhost:5001/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message: text,\n          learningProfile: {\n            preferredLearningStyle: 'conversational',\n            preferredExplanationDepth: 'intermediate',\n            preferredPace: 'medium'\n          },\n          conversationHistory: conversation.slice(-4),\n          systemPrompt: conversationalPrompt\n        })\n      });\n      \n      const data = await response.json();\n      \n      const assistantMessage = {\n        id: Date.now() + 1,\n        role: 'assistant',\n        content: data.response,\n        timestamp: new Date()\n      };\n      \n      setConversation(prev => [...prev, assistantMessage]);\n      \n      // Speak the response\n      speakText(data.response);\n      \n    } catch (error) {\n      console.error('Error:', error);\n      const errorMessage = {\n        id: Date.now() + 1,\n        role: 'assistant',\n        content: 'Oh, I seem to have lost my train of thought there for a moment! Could you try asking that again?',\n        timestamp: new Date()\n      };\n      setConversation(prev => [...prev, errorMessage]);\n      speakText(errorMessage.content);\n    }\n    \n    setIsProcessing(false);\n  };\n\n  const speakText = (text) => {\n    if (synthRef.current && text) {\n      // Cancel any ongoing speech\n      synthRef.current.cancel();\n      \n      const utterance = new SpeechSynthesisUtterance(text);\n      \n      // Configure voice for more natural, conversational tone\n      const voices = synthRef.current.getVoices();\n      const preferredVoice = voices.find(voice => \n        voice.name.includes('Samantha') || \n        voice.name.includes('Alex') ||\n        voice.name.includes('Natural') ||\n        voice.lang.startsWith('en')\n      );\n      \n      if (preferredVoice) {\n        utterance.voice = preferredVoice;\n      }\n      \n      utterance.rate = 0.9; // Slightly slower for better comprehension\n      utterance.pitch = 1.1; // Slightly higher pitch for engagement\n      utterance.volume = 0.8;\n      \n      utterance.onstart = () => setIsSpeaking(true);\n      utterance.onend = () => setIsSpeaking(false);\n      utterance.onerror = () => setIsSpeaking(false);\n      \n      setIsSpeaking(true);\n      synthRef.current.speak(utterance);\n    }\n  };\n\n  const stopSpeaking = () => {\n    if (synthRef.current) {\n      synthRef.current.cancel();\n      setIsSpeaking(false);\n    }\n  };\n\n  const formatTime = (date) => {\n    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 text-white\">\n      {/* Header */}\n      <div className=\"text-center py-8\">\n        <div className=\"text-6xl mb-4\">üéôÔ∏è</div>\n        <h1 className=\"text-4xl font-bold mb-2 bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent\">\n          ProfAI Podcast\n        </h1>\n        <p className=\"text-xl text-white/80\">Voice-first AI Learning Experience</p>\n      </div>\n\n      {/* Main Voice Interface */}\n      <div className=\"max-w-4xl mx-auto px-6\">\n        {/* Voice Visualization */}\n        <div className=\"flex justify-center mb-8\">\n          <div className=\"relative\">\n            {/* Main microphone button */}\n            <button\n              onClick={isListening ? stopListening : startListening}\n              disabled={isProcessing || isSpeaking}\n              className={`w-32 h-32 rounded-full flex items-center justify-center text-4xl transition-all duration-300 ${\n                isListening \n                  ? 'bg-red-500 hover:bg-red-600 animate-pulse' \n                  : isProcessing\n                  ? 'bg-yellow-500 animate-spin'\n                  : isSpeaking\n                  ? 'bg-blue-500 animate-pulse'\n                  : 'bg-gradient-to-br from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 hover:scale-105'\n              } disabled:opacity-50 shadow-2xl`}\n            >\n              {isProcessing ? 'ü§î' : isSpeaking ? 'üó£Ô∏è' : isListening ? 'üé§' : 'üéôÔ∏è'}\n            </button>\n\n            {/* Audio level visualization */}\n            {isListening && (\n              <div className=\"absolute inset-0 flex items-center justify-center\">\n                {[...Array(3)].map((_, i) => (\n                  <div\n                    key={i}\n                    className=\"absolute w-32 h-32 rounded-full border-2 border-white/30 animate-ping\"\n                    style={{\n                      animationDelay: `${i * 0.5}s`,\n                      transform: `scale(${1 + audioLevel * 2 + i * 0.3})`,\n                    }}\n                  />\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Status Display */}\n        <div className=\"text-center mb-8\">\n          {isListening && (\n            <div>\n              <p className=\"text-2xl font-semibold text-green-400 mb-2\">üé§ Listening...</p>\n              {transcript && (\n                <p className=\"text-lg text-white/80 italic\">\"{transcript}\"</p>\n              )}\n            </div>\n          )}\n          \n          {isProcessing && (\n            <p className=\"text-2xl font-semibold text-yellow-400\">ü§î Thinking...</p>\n          )}\n          \n          {isSpeaking && (\n            <div>\n              <p className=\"text-2xl font-semibold text-blue-400 mb-4\">üó£Ô∏è Speaking...</p>\n              <button\n                onClick={stopSpeaking}\n                className=\"px-6 py-3 bg-red-500 hover:bg-red-600 rounded-full font-semibold transition-colors\"\n              >\n                Stop Speaking\n              </button>\n            </div>\n          )}\n          \n          {!isListening && !isProcessing && !isSpeaking && (\n            <div>\n              <p className=\"text-xl text-white/80 mb-4\">Ready to chat! Tap the microphone to start.</p>\n              <p className=\"text-sm text-white/60\">Ask me anything about AI, machine learning, or technology!</p>\n            </div>\n          )}\n        </div>\n\n        {/* Conversation Log */}\n        {conversation.length > 0 && (\n          <div className=\"glassmorphism rounded-2xl p-6 max-h-96 overflow-y-auto\">\n            <h3 className=\"text-xl font-semibold mb-4 flex items-center\">\n              <span className=\"mr-2\">üí¨</span>\n              Conversation Log\n            </h3>\n            \n            <div className=\"space-y-4\">\n              {conversation.map((message) => (\n                <div\n                  key={message.id}\n                  className={`flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`}\n                >\n                  <div\n                    className={`max-w-xs lg:max-w-md px-4 py-3 rounded-2xl ${\n                      message.role === 'user'\n                        ? 'bg-gradient-to-br from-purple-500 to-pink-500'\n                        : 'bg-gradient-to-br from-blue-500 to-cyan-500'\n                    }`}\n                  >\n                    <div className=\"flex items-center mb-2\">\n                      <span className=\"text-lg mr-2\">\n                        {message.role === 'user' ? 'üë§' : 'ü§ñ'}\n                      </span>\n                      <span className=\"font-semibold\">\n                        {message.role === 'user' ? 'You' : 'ProfAI'}\n                      </span>\n                      <span className=\"ml-auto text-xs opacity-70\">\n                        {formatTime(message.timestamp)}\n                      </span>\n                    </div>\n                    <p className=\"text-sm leading-relaxed\">{message.content}</p>\n                    \n                    {message.role === 'assistant' && (\n                      <button\n                        onClick={() => speakText(message.content)}\n                        disabled={isSpeaking}\n                        className=\"mt-2 text-xs bg-white/20 hover:bg-white/30 px-2 py-1 rounded transition-colors disabled:opacity-50\"\n                      >\n                        üîä Replay\n                      </button>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Quick Action Buttons */}\n        <div className=\"mt-8 flex flex-wrap justify-center gap-4\">\n          <button\n            onClick={() => handleVoiceInput(\"What is machine learning?\")}\n            disabled={isListening || isProcessing || isSpeaking}\n            className=\"px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full text-sm font-medium hover:from-purple-600 hover:to-pink-600 transition-all disabled:opacity-50\"\n          >\n            What is ML?\n          </button>\n          \n          <button\n            onClick={() => handleVoiceInput(\"Explain neural networks simply\")}\n            disabled={isListening || isProcessing || isSpeaking}\n            className=\"px-4 py-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full text-sm font-medium hover:from-blue-600 hover:to-cyan-600 transition-all disabled:opacity-50\"\n          >\n            Neural Networks\n          </button>\n          \n          <button\n            onClick={() => handleVoiceInput(\"What's the future of AI?\")}\n            disabled={isListening || isProcessing || isSpeaking}\n            className=\"px-4 py-2 bg-gradient-to-r from-green-500 to-teal-500 rounded-full text-sm font-medium hover:from-green-600 hover:to-teal-600 transition-all disabled:opacity-50\"\n          >\n            Future of AI\n          </button>\n\n          <button\n            onClick={() => setConversation([])}\n            disabled={isListening || isProcessing || isSpeaking}\n            className=\"px-4 py-2 bg-gradient-to-r from-gray-500 to-gray-600 rounded-full text-sm font-medium hover:from-gray-600 hover:to-gray-700 transition-all disabled:opacity-50\"\n          >\n            Clear Chat\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}